import datetime
import requests

# –î–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã (hardcoded –¥–ª—è –ê—Ä–∫–∞–¥–∏—è) ‚Äî –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
arkadiy_data = {
    (2025, 11): 9818,
    (2025, 12): 10503,
    (2026, 1): 11209,
    (2026, 2): 11936,
    (2026, 3): 12685,
    (2026, 4): 13457,
    (2026, 5): 14252,
    (2026, 6): 15071,
    (2026, 7): 15915,
    (2026, 8): 16785,
    (2026, 9): 17682,
    (2026, 10): 18606,
    (2026, 11): 19559,
    (2026, 12): 20541,
    (2027, 1): 21553,
    (2027, 2): 22598,
    (2027, 3): 23674,
    (2027, 4): 24785,
    (2027, 5): 25930,
    (2027, 6): 27111,
    (2027, 7): 28330,
    (2027, 8): 29587,
    (2027, 9): 30884,
    (2027, 10): 32222,
    (2027, 11): 33603,
    (2027, 12): 35029,
    (2028, 1): 36500,
    (2028, 2): 38018,
    (2028, 3): 39586,
    (2028, 4): 41205,
    (2028, 5): 42876,
    (2028, 6): 44602,
    (2028, 7): 46385,
    (2028, 8): 48226,
    (2028, 9): 50128,
    (2028, 10): 52094,
    (2028, 11): 54124,
    (2028, 12): 56223,
    (2029, 1): 58391,
    (2029, 2): 60632,
    (2029, 3): 62949,
    (2029, 4): 65344,
    (2029, 5): 67820,
    (2029, 6): 70380,
    (2029, 7): 73028,
    (2029, 8): 75766,
    (2029, 9): 78598,
    (2029, 10): 81527,
    (2029, 11): 84557,
    (2029, 12): 87691,
    (2030, 1): 90935,
    (2030, 2): 94290,
    (2030, 3): 97763,
    (2030, 4): 101357,
    (2030, 5): 105076,
    (2030, 6): 108926,
    (2030, 7): 112912,
    (2030, 8): 112912,
    (2030, 9): 112912,
    (2030, 10): 112912,
    (2030, 11): 112912,
    (2030, 12): 112912,
    (2031, 1): 112912,
    (2031, 2): 112912,
    (2031, 3): 112912,
    (2031, 4): 112912,
    (2031, 5): 112912,
    (2031, 6): 112912,
    (2031, 7): 112912,
    (2031, 8): 112912,
    (2031, 9): 112912,
    (2031, 10): 112912,
    (2031, 11): 112912,
    (2031, 12): 112912,
    (2032, 1): 112912,
    (2032, 2): 112912,
    (2032, 3): 112912,
    (2032, 4): 112912,
    (2032, 5): 112912,
    (2032, 6): 112912,
    (2032, 7): 112912,
    (2032, 8): 112912,
    (2032, 9): 112912,
    (2032, 10): 112912,
    (2032, 11): 112912,
    (2032, 12): 112912,
    (2033, 1): 112912,
    (2033, 2): 112912,
    (2033, 3): 112912,
    (2033, 4): 112912,
    (2033, 5): 112912,
    (2033, 6): 112912,
    (2033, 7): 112912,
    (2033, 8): 112912,
    (2033, 9): 112912,
    (2033, 10): 112912,
    (2033, 11): 112912,
    (2033, 12): 112912,
    (2034, 1): 112912,
    (2034, 2): 112912,
    (2034, 3): 112912,
    (2034, 4): 112912,
    (2034, 5): 112912,
    (2034, 6): 112912,
    (2034, 7): 112912,
    (2034, 8): 112912,
    (2034, 9): 112912,
    (2034, 10): 112912,
    (2034, 11): 112912,
    (2034, 12): 112912,
    (2035, 1): 112912,
    (2035, 2): 112912,
    (2035, 3): 112912,
    (2035, 4): 112912,
    (2035, 5): 112912,
    (2035, 6): 112912,
    (2035, 7): 112912,
    (2035, 8): 112912,
    (2035, 9): 112912,
    (2035, 10): 112912,
    (2035, 11): 112912,
    (2035, 12): 112912
}

# –î–∞–Ω–Ω—ã–µ –¥–ª—è –ú–∞—Ä—Ç—ã
marta_data = {
    (2025, 11): 5733,
    (2025, 12): 6160,
    (2026, 1): 6592,
    (2026, 2): 7030,
    (2026, 3): 7473,
    (2026, 4): 7922,
    (2026, 5): 8377,
    (2026, 6): 8838,
    (2026, 7): 9304,
    (2026, 8): 9777,
    (2026, 9): 10256,
    (2026, 10): 10741,
    (2026, 11): 11232,
    (2026, 12): 11730,
    (2027, 1): 12234,
    (2027, 2): 12744,
    (2027, 3): 13261,
    (2027, 4): 13785,
    (2027, 5): 14315,
    (2027, 6): 14852,
    (2027, 7): 15395,
    (2027, 8): 15945,
    (2027, 9): 16502,
    (2027, 10): 17066,
    (2027, 11): 17636,
    (2027, 12): 18214,
    (2028, 1): 18798,
    (2028, 2): 19389,
    (2028, 3): 19987,
    (2028, 4): 20592,
    (2028, 5): 21204,
    (2028, 6): 21823,
    (2028, 7): 22449,
    (2028, 8): 23082,
    (2028, 9): 23723,
    (2028, 10): 24370,
    (2028, 11): 25025,
    (2028, 12): 25687,
    (2029, 1): 26356,
    (2029, 2): 27033,
    (2029, 3): 27717,
    (2029, 4): 28408,
    (2029, 5): 29107,
    (2029, 6): 29813,
    (2029, 7): 30527,
    (2029, 8): 31249,
    (2029, 9): 31978,
    (2029, 10): 32715,
    (2029, 11): 33460,
    (2029, 12): 34213,
    (2030, 1): 34974,
    (2030, 2): 35743,
    (2030, 3): 36520,
    (2030, 4): 37305,
    (2030, 5): 38100,
    (2030, 6): 38902,
    (2030, 7): 39712,
    (2030, 8): 40531,
    (2030, 9): 41358,
    (2030, 10): 42194,
    (2030, 11): 43038,
    (2030, 12): 43891,
    (2031, 1): 44753,
    (2031, 2): 45623,
    (2031, 3): 46502,
    (2031, 4): 47390,
    (2031, 5): 48287,
    (2031, 6): 49193,
    (2031, 7): 50108,
    (2031, 8): 51032,
    (2031, 9): 51965,
    (2031, 10): 52907,
    (2031, 11): 53858,
    (2031, 12): 54819,
    (2032, 1): 55789,
    (2032, 2): 56768,
    (2032, 3): 57757,
    (2032, 4): 58755,
    (2032, 5): 59763,
    (2032, 6): 60781,
    (2032, 7): 61808,
    (2032, 8): 62845,
    (2032, 9): 63892,
    (2032, 10): 64949,
    (2032, 11): 66016,
    (2032, 12): 67093,
    (2033, 1): 68180,
    (2033, 2): 69277,
    (2033, 3): 70385,
    (2033, 4): 71503,
    (2033, 5): 72631,
    (2033, 6): 73770,
    (2033, 7): 74919,
    (2033, 8): 76079,
    (2033, 9): 77249,
    (2033, 10): 78430,
    (2033, 11): 79622,
    (2033, 12): 80825,
    (2034, 1): 82038,
    (2034, 2): 83263,
    (2034, 3): 84499,
    (2034, 4): 85746,
    (2034, 5): 87004,
    (2034, 6): 88273,
    (2034, 7): 89554,
    (2034, 8): 90846,
    (2034, 9): 92149,
    (2034, 10): 93464,
    (2034, 11): 94790,
    (2034, 12): 96128,
    (2035, 1): 97478,
    (2035, 2): 98839,
    (2035, 3): 100212,
    (2035, 4): 100212,
    (2035, 5): 100212,
    (2035, 6): 100212,
    (2035, 7): 100212,
    (2035, 8): 100212,
    (2035, 9): 100212,
    (2035, 10): 100212,
    (2035, 11): 100212,
    (2035, 12): 100212
}

# Telegram bot –¥–∞–Ω–Ω—ã–µ
BOT_TOKEN = '8442392037:AAEiM_b4QfdFLqbmmc1PXNvA99yxmFVLEp8'
CHAT_ID = '350766421'

# –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
now = datetime.datetime.now()
year = now.year
month = now.month

# –ö–ª—é—á –¥–ª—è –ø–æ–∏—Å–∫–∞
key = (year, month)

# –°—É–º–º—ã
ark_sum = arkadiy_data.get(key, "–î–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã")
mar_sum = marta_data.get(key, "–î–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã")

# –ù–∞–∑–≤–∞–Ω–∏—è –º–µ—Å—è—Ü–µ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
month_names = {
    1: '—è–Ω–≤–∞—Ä—å', 2: '—Ñ–µ–≤—Ä–∞–ª—å', 3: '–º–∞—Ä—Ç', 4: '–∞–ø—Ä–µ–ª—å',
    5: '–º–∞–π', 6: '–∏—é–Ω—å', 7: '–∏—é–ª—å', 8: '–∞–≤–≥—É—Å—Ç',
    9: '—Å–µ–Ω—Ç—è–±—Ä—å', 10: '–æ–∫—Ç—è–±—Ä—å', 11: '–Ω–æ—è–±—Ä—å', 12: '–¥–µ–∫–∞–±—Ä—å'
}
current_month = month_names.get(month, str(month))

# URLs
ark_url = (
    "https://debank.com/profile/"
    "0x305220d077474c5cab839e7c1cb3264aca19f1b9"
)
mar_url = (
    "https://debank.com/profile/"
    "0x10082016a94920abdf410cdb6f98c2ead2c57340"
)

# –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞—Ç—É –≤ —Ä–∞–∑—Ä–µ–∑–µ
day = now.day
weekday_names = {
    0: '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', 1: '–í—Ç–æ—Ä–Ω–∏–∫', 2: '–°—Ä–µ–¥–∞',
    3: '–ß–µ—Ç–≤–µ—Ä–≥', 4: '–ü—è—Ç–Ω–∏—Ü–∞', 5: '–°—É–±–±–æ—Ç–∞', 6: '–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ'
}
weekday = weekday_names.get(now.weekday(), '')
week_num = now.isocalendar()[1]
date_str = (
    f"{weekday} {day} {current_month}, –Ω–µ–¥–µ–ª—è {week_num}"
)

# –¶–µ–ª–∏ (—Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è)
ark_goal = ark_sum
mar_goal = mar_sum

# –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
investment_rules = (
    "üìã –ò–ù–í–ï–°–¢–ò–¶–ò–û–ù–ù–´–ï –ü–†–ê–í–ò–õ–ê:\n"
    "1Ô∏è‚É£ No Margin\n"
    "2Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –Ω–µ–∫–æ—Ä—Ä–µ–ª–∏—Ä—É–µ–º—ã–µ –ø–æ–∑–∏—Ü–∏–∏: USDT, BTC, ETH, ASTER, LINK, AAVE\n"
    "3Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑—É–π –Ω–µ –±–æ–ª–µ–µ 5 LP –ø—É–ª–æ–≤\n"
    "4Ô∏è‚É£ –°—Ç—Ä–∞—Ö—É–π Beefy"
)

# –ú—É–¥—Ä–æ—Å—Ç—å
wisdom = (
    "üí° –ò–Ω–æ–≥–¥–∞ –ª—É—á—à–µ –≤—ã–∫–ª—é—á–∏—Ç—å –º–æ–∑–≥ –∏ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å. "
    "–°–∞–º—ã–µ –±–æ–≥–∞—Ç—ã–µ –∏–Ω–≤–µ—Å—Ç–æ—Ä—ã –≤ –ë–∏—Ç–æ–∫ - —ç—Ç–æ –ª—é–¥–∏, "
    "–∫–æ—Ç–æ—Ä—ã–µ –ª–∏–±–æ –≤–ø–∞–ª–∏ –≤ –∫–æ–º—É, –ª–∏–±–æ –ø–æ—Ç–µ—Ä—è–ª–∏ —Å–≤–æ–∏ –∫–ª—é—á–∏."
)

# –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç (–≤ —Ñ–æ—Ä–º–∞—Ç–µ spoiler)
main_content = (
    f"–ê—Ä–∫–∞–¥–∏–π: —Ü–µ–ª—å \"{current_month}\" = {ark_sum} USD\n"
    f"{ark_url}\n\n"
    f"–ú–∞—Ä—Ç–∞: —Ü–µ–ª—å \"{current_month}\" = {mar_sum} USD\n"
    f"{mar_url}"
)

# –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å spoiler –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
header = "#–î–µ—Ç–∏#–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏"
text = (
    f"{header}\n"
    f"{date_str}\n\n"
    f"||{main_content}||\n\n"
    f"{investment_rules}\n\n"
    f"{wisdom}"
)

# –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
api_url = f"https://api.telegram.org/bot{BOT_TOKEN}/sendMessage"
payload = {
    'chat_id': CHAT_ID,
    'text': text,
    'parse_mode': 'HTML'
}
response = requests.post(api_url, data=payload)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
if response.status_code == 200:
    print("–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!")
else:
    error_msg = f"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: {response.status_code}"
    print(f"{error_msg} - {response.text}")

# –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
result_msg = (
    f"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–ª—è {current_month} {year}: "
    f"–ê—Ä–∫–∞–¥–∏–π={ark_sum}, –ú–∞—Ä—Ç–∞={mar_sum}"
)
print(result_msg)
